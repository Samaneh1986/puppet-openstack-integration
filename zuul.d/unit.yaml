---
# This file contains the puppet unit job configurations
#
- job:
    name: puppet-openstack-unit-4.8-centos-7
    parent: puppet-openstack-unit-base
    nodeset: centos-7
    vars:
      puppet_gem_version: 4.8

- job:
    name: puppet-openstack-unit-5.5-centos-7
    parent: puppet-openstack-unit-base
    nodeset: centos-7
    vars:
      puppet_gem_version: 5.5

- job:
    name: puppet-openstack-unit-6.0-ubuntu-bionic
    parent: puppet-openstack-unit-base
    nodeset: ubuntu-bionic
    branches: ^master
    vars:
      puppet_gem_version: 6.0

- job:
    name: puppet-openstack-unit-latest-ubuntu-bionic
    parent: puppet-openstack-unit-base
    nodeset: ubuntu-bionic
    branches: ^master
    voting: false
    vars:
      puppet_gem_version: latest


- project-template:
    name: puppet-openstack-module-unit-jobs
    check:
      jobs:
        - puppet-openstack-unit-4.8-centos-7
        - puppet-openstack-unit-5.5-centos-7
        - puppet-openstack-unit-6.0-ubuntu-bionic
        - puppet-openstack-unit-latest-ubuntu-bionic
    gate:
      jobs:
        - puppet-openstack-unit-4.8-centos-7
        - puppet-openstack-unit-5.5-centos-7
        - puppet-openstack-unit-6.0-ubuntu-bionic
